#LSB算法

##LSB替换算法

###一、实验目的

LSB算法仿真

###二、原理简介

LSB算法指的是在图片像素的最低位嵌入比特信息。

公式：

![img](img\1.png) 

![img](img\2.png) 

Capacity=嵌入的像素个数/载体图像中的总像素个数

###三、实验过程

本实验随机生成的512*512灰度值图像。

定义一个psnr一维矩阵，用来存放psnr值。定义一个capacity矩阵，用来存放容量值。

每测试一幅图像，就读取图像，在循环中随机生成长度不同的比特串嵌入图像中，长度随着循环次数的增加而每次增加100.每次循环在psnr一维矩阵中对应的值加一个计算出的psnr值，在capacity矩阵中添加一个计算出的容量值。

容量矩阵值固定。

Psnr矩阵等于循环结束后的每一维值除以测试数目（50）。

###四、实验效果

测试后，取得的均值psnr值所画出的容量-psnr曲线图：

![img](img\3.png) 

 

 

##实验二 LSB匹配算法

###一、原理简介

区别于传统的LSB替换算法，本算法对于每一个像素值，如果与嵌入信息不同，加一减一是随机的。（通过一个随机数矩阵来实现）。

###二、实验过程

本实验共测试50幅图像（是在matlab中随机生成的二值图像）。

对于每一幅图像，从8比特位开始，给其嵌入信息，一直到满嵌。嵌入的方式是，随机生成01矩阵，如果嵌入水印和当前像素值的最低位不同，则根据01矩阵中的值修改图片像素值（如果为0就减1，为1就加1）。Psnr值是50幅图像测试结束后所求得的平均值。

###三、实验效果

五十幅图片测试后，取得的均值psnr值所画出的容量-psnr曲线图：

![img](img\3.png)

##实验三 卡方分析

###一、问题分析

传统的LSB替换算法中，执行一次嵌入过程后，2k和2k+1的数量趋同，不能够抵抗卡方分析。在LSB匹配算法中，执行一次嵌入过程后，由于像素为2k的点可能为2k-1也可能为2k+1，所以可以抵抗卡方分析。

###二、卡方分析原理

在原始和满嵌图像中，我分别计算了2k和2k+1的差值，并统计了他们的结果，以差值为纵坐标，该差值在图像中对应的个数为横坐标，绘制成曲线图。

###三、卡方分析过程

* 对原始图像进行卡方分析：

![img](img\5.png)

* 对使用LSB替换算法满嵌的图像进行卡方分析：

![img](img\6.png)

* 对使用LSB匹配算法满嵌的图像进行卡方分析：

![img](img\7.png) 

###四、得出结论

由以上实验可以得出结论：使用LSB匹配算法相对于LSB替换算法来说，可以抵抗卡方分析。